"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[3711],{3711:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var a=r(1609),i=r(6087),n=r(7723),l=r(784),u=r(1348),d=r(731);const c=/[^a-zA-Z0-9_-]/g,s=({field:e,componentId:t,updateField:r,...s})=>{const o=(0,u.A)((e=>e.getPrefix))(),{data:f}=(0,l.s)({api:"fields-ids",defaultValue:[]}),[p,g]=(0,i.useState)({}),[h,v]=(0,i.useState)(!1),m=(0,i.useRef)(),k=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{if(m.current&&m.current.value!==e.id){const t=(e.id||"").replace(c,"");m.current.value=t,t!==e.id&&r("id",t)}}),[e.id]),(0,a.createElement)(d.default,{htmlFor:t,...s},(0,a.createElement)("input",{ref:m,type:"text",id:t,defaultValue:e.id,onKeyDown:e=>{if(k.current=!1,"Enter"===e.key)return e.preventDefault(),void(k.current=!0);["Backspace","Delete","ArrowLeft","ArrowRight","Home","End"].includes(e.key)||e.ctrlKey||e.metaKey||c.test(e.key)&&(e.preventDefault(),k.current=!0)},onInput:t=>{if(k.current)return void(k.current=!1);const a=t.target,i=a.value||"",n=i.replace(c,"");if(i!==n){const e=a.selectionStart||0;a.value=n;const t=i.substring(0,e).replace(c,""),r=Math.min(t.length,n.length);a.setSelectionRange(r,r)}r("id",n),r("_id_changed",!0),(t=>{const r=o+t;if(void 0!==f[r]&&f[r]?._id!==e._id)return g(f[r]),void v(!0);g({}),v(!1)})(n)},pattern:"[A-Za-z0-9\\-_]+"}),h&&(0,a.createElement)(i.RawHTML,{className:"og-description og-error"},(0,n.sprintf)((0,n.__)('This ID already exists in the field group <a href="%s">%s</a>, please change it or edit that field group to avoid duplication.',"meta-box-builder"),p.link,p.title)))}}}]);