"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[3711],{3711:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r(1609),i=r(6087),n=r(7723),l=r(784),u=r(731);const d=/[^a-zA-Z0-9_-]/g,c=({field:e,componentId:t,updateField:r,...c})=>{const{data:s}=(0,l.s)({api:"fields-ids",defaultValue:[]}),[o,f]=(0,i.useState)({}),[p,h]=(0,i.useState)(!1),g=(0,i.useRef)(),v=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{if(g.current&&g.current.value!==e.id){const t=(e.id||"").replace(d,"");g.current.value=t,t!==e.id&&r("id",t)}}),[e.id]),(0,a.createElement)(u.default,{htmlFor:t,...c},(0,a.createElement)("input",{ref:g,type:"text",id:t,defaultValue:e.id,onKeyDown:e=>{if(v.current=!1,"Enter"===e.key)return e.preventDefault(),void(v.current=!0);["Backspace","Delete","ArrowLeft","ArrowRight","Home","End"].includes(e.key)||e.ctrlKey||e.metaKey||d.test(e.key)&&(e.preventDefault(),v.current=!0)},onInput:t=>{if(v.current)return void(v.current=!1);const a=t.target,i=a.value||"",n=i.replace(d,"");if(i!==n){const e=a.selectionStart||0;a.value=n;const t=i.substring(0,e).replace(d,""),r=Math.min(t.length,n.length);a.setSelectionRange(r,r)}r("id",n),r("_id_changed",!0),(t=>{if(void 0!==s[t]&&s[t]?._id!==e._id)return f(s[t]),void h(!0);f({}),h(!1)})(n)},pattern:"[A-Za-z0-9\\-_]+"}),p&&(0,a.createElement)(i.RawHTML,{className:"og-description og-error"},(0,n.sprintf)((0,n.__)('This ID already exists in the field group <a href="%s">%s</a>, please change it or edit that field group to avoid duplication.',"meta-box-builder"),o.link,o.title)))}}}]);