(()=>{"use strict";var e={70:(e,t,o)=>{e.exports=o(462)},81:(e,t,o)=>{var n=o(609),r=o(143),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,o,n,r){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,i=e,e=n(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var o=n(e);return void 0!==r&&r(t,o)?t:(i=e,s=o)}var i,s,l=!1,c=void 0===o?null:o;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,o,n,r]);var m=i(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=m}),[m]),u(m),m}},96:e=>{e.exports=wp.CodeMirror},143:(e,t,o)=>{e.exports=o(878)},388:(e,t,o)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(this,arguments)}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var a,i=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});t.wN=void 0;var s,l=o(609),c="undefined"==typeof window||void 0!==o.g&&!0===o.g.PREVENT_CODEMIRROR_RENDER;c||(s=o(96));var u=function(){function e(){}return e.equals=function(e,t){var o=this,n=Object.keys,a=r(e),i=r(t);return e&&t&&"object"===a&&a===i?n(e).length===n(t).length&&n(e).every((function(n){return o.equals(e[n],t[n])})):e===t},e}(),d=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,o){var n=this.editor.getDoc();o&&this.editor.focus(),t?n.setCursor(e):n.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,o){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(o.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,o){t.props.onBlur(t.editor,o)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,o){t.props.onContextMenu(t.editor,o)}));break;case"onCopy":t.editor.on("copy",(function(e,o){t.props.onCopy(t.editor,o)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,o){t.props.onCut(t.editor,o)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,o){t.props.onDblClick(t.editor,o)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,o){t.props.onDragEnter(t.editor,o)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,o){t.props.onDragLeave(t.editor,o)}));break;case"onDragOver":t.editor.on("dragover",(function(e,o){t.props.onDragOver(t.editor,o)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,o){t.props.onDragStart(t.editor,o)}));break;case"onDrop":t.editor.on("drop",(function(e,o){t.props.onDrop(t.editor,o)}));break;case"onFocus":t.editor.on("focus",(function(e,o){t.props.onFocus(t.editor,o)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,o,n,r){t.props.onGutterClick(t.editor,o,n,r)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,o){t.props.onInputRead(t.editor,o)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,o){t.props.onKeyDown(t.editor,o)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,o,n){t.props.onKeyHandled(t.editor,o,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,o){t.props.onKeyPress(t.editor,o)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,o){t.props.onKeyUp(t.editor,o)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,o){t.props.onMouseDown(t.editor,o)}));break;case"onPaste":t.editor.on("paste",(function(e,o){t.props.onPaste(t.editor,o)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,o,n){t.props.onRenderLine(t.editor,o,n)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,o){t.props.onSelection(t.editor,o)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,o){t.props.onTouchStart(t.editor,o)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,o,n){t.props.onViewportChange(t.editor,o,n)}))}}))},e}();!function(e){function t(t){var o=e.call(this,t)||this;return c||(o.applied=!1,o.appliedNext=!1,o.appliedUserDefined=!1,o.deferred=null,o.emulating=!1,o.hydrated=!1,o.initCb=function(){o.props.editorDidConfigure&&o.props.editorDidConfigure(o.editor)},o.mounted=!1),o}i(t,e),t.prototype.hydrate=function(e){var t=this,o=e&&e.options?e.options:{},r=n({},s.defaults,this.editor.options,o);Object.keys(r).some((function(e){return t.editor.getOption(e)!==r[e]}))&&Object.keys(r).forEach((function(e){o.hasOwnProperty(e)&&t.editor.getOption(e)!==r[e]&&(t.editor.setOption(e,r[e]),t.mirror.setOption(e,r[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),o=t.lastLine(),n=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:o,ch:n}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var o=t.getCursor();t.setValue(e),t.setCursor(o)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;c||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new d(this.editor,this.props),this.mirror=s((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,o){if(!e.emulating){o.cancel(),e.deferred=o;var n=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,n)}})),this.editor.on("change",(function(t,o){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,o,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!c){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){return!c},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})}}(l.Component);var p=function(e){function t(t){var o=e.call(this,t)||this;return c||(o.applied=!1,o.appliedUserDefined=!1,o.continueChange=!1,o.detached=!1,o.hydrated=!1,o.initCb=function(){o.props.editorDidConfigure&&o.props.editorDidConfigure(o.editor)},o.mounted=!1,o.onBeforeChangeCb=function(){o.continueChange=!0}),o}return i(t,e),t.prototype.hydrate=function(e){var t=this,o=e&&e.options?e.options:{},r=n({},s.defaults,this.editor.options,o);if(Object.keys(r).some((function(e){return t.editor.getOption(e)!==r[e]}))&&Object.keys(r).forEach((function(e){o.hasOwnProperty(e)&&t.editor.getOption(e)!==r[e]&&t.editor.setOption(e,r[e])})),!this.hydrated){var a=this.editor.getDoc(),i=a.lastLine(),l=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:i,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;c||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new d(this.editor,this.props),this.editor.on("beforeChange",(function(t,o){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,o,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,o){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,o,e.editor.getValue()):e.props.onChange(e.editor,o,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!c&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){c||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){var o=!0;return c&&(o=!1),this.detached&&e.detach&&(o=!1),o},t.prototype.render=function(){var e=this;if(c)return null;var t=this.props.className?"react-codemirror2 ".concat(this.props.className):"react-codemirror2";return l.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(l.Component);t.wN=p},462:(e,t,o)=>{var n=o(609),r=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var n,l={},c=null,u=null;for(n in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:i.current}}},471:e=>{e.exports=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)}},609:e=>{e.exports=window.React},688:(e,t,o)=>{const n=o(471),r=new Set(["__proto__","prototype","constructor"]);function a(e){const t=e.split("."),o=[];for(let e=0;e<t.length;e++){let n=t[e];for(;"\\"===n[n.length-1]&&void 0!==t[e+1];)n=n.slice(0,-1)+".",n+=t[++e];o.push(n)}return o.some((e=>r.has(e)))?[]:o}e.exports={get(e,t,o){if(!n(e)||"string"!=typeof t)return void 0===o?e:o;const r=a(t);if(0!==r.length){for(let t=0;t<r.length;t++)if(null==(e=e[r[t]])){if(t!==r.length-1)return o;break}return void 0===e?o:e}},set(e,t,o){if(!n(e)||"string"!=typeof t)return e;const r=e,i=a(t);for(let t=0;t<i.length;t++){const r=i[t];n(e[r])||(e[r]={}),t===i.length-1&&(e[r]=o),e=e[r]}return r},delete(e,t){if(!n(e)||"string"!=typeof t)return!1;const o=a(t);for(let t=0;t<o.length;t++){const r=o[t];if(t===o.length-1)return delete e[r],!0;if(e=e[r],!n(e))return!1}},has(e,t){if(!n(e)||"string"!=typeof t)return!1;const o=a(t);if(0===o.length)return!1;for(let t=0;t<o.length;t++){if(!n(e))return!1;if(!(o[t]in e))return!1;e=e[o[t]]}return!0}}},741:(e,t,o)=>{e.exports=o(81)},878:(e,t,o)=>{var n=o(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!r(e,o)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),n=a({inst:{value:o,getSnapshot:t}}),r=n[0].inst,u=n[1];return s((function(){r.value=o,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,o,t]),i((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(o),o};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=o(609);const r=window.wp.element,a=window.wp.i18n,i=(0,n.createContext)(null),s={didCatch:!1,error:null};class l extends n.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=s}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=(o=this.props).onReset)||void 0===t||t.call(o,{args:r,reason:"imperative-api"}),this.setState(s)}}componentDidCatch(e,t){var o,n;null===(o=(n=this.props).onError)||void 0===o||o.call(n,e,t)}componentDidUpdate(e,t){const{didCatch:o}=this.state,{resetKeys:n}=this.props;var r,a;o&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,o)=>!Object.is(e,t[o])))}(e.resetKeys,n)&&(null===(r=(a=this.props).onReset)||void 0===r||r.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(s))}render(){const{children:e,fallbackRender:t,FallbackComponent:o,fallback:r}=this.props,{didCatch:a,error:s}=this.state;let l=e;if(a){const e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)l=t(e);else if(o)l=(0,n.createElement)(o,e);else{if(void 0===r)throw s;l=r}}return(0,n.createElement)(i.Provider,{value:{didCatch:a,error:s,resetErrorBoundary:this.resetErrorBoundary}},l)}}var c=o(688),u=o.n(c);window.lodash;const d=e=>e.replace("[]","").replace(/\[(.+?)\]/g,".$1"),p=window.wp.components;var m,h;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},f.apply(null,arguments)}var b=function(e){return n.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:46,height:46,fill:"none"},e),m||(m=n.createElement("rect",{width:46,height:46,fill:"#000",rx:3})),h||(h=n.createElement("path",{fill:"#fff",d:"M8.688 35v-2.563l2.271-.44V16.69l-2.27-.439v-2.578h8.598l5.816 14.868h.087l5.625-14.868h8.614v2.578l-2.285.44v15.307l2.285.44V35h-8.833v-2.563l2.387-.44V27.91l.074-9.624-.088-.015-6.372 16.436h-3.238l-6.518-16.304-.088.015.249 9.053v4.526l2.52.44V35z"})))};const g=()=>(0,n.createElement)(p.Flex,{className:"mb-header"},(0,n.createElement)(p.Tooltip,{delay:0,text:(0,a.__)("Back to all settings pages","meta-box-builder"),placement:"bottom"},(0,n.createElement)("a",{className:"mb-header__logo",href:MbbApp.url},(0,n.createElement)(b,null))),(0,n.createElement)(p.Flex,{gap:0,expanded:!1,className:"mb-header__info"},(0,n.createElement)("input",{type:"text",name:"post_title",id:"post_title",defaultValue:MbbApp.title,placeholder:(0,a.__)("Please enter the settings page title...","meta-box-builder")})),(0,n.createElement)("input",{type:"submit",className:"components-button is-primary",value:(0,a.__)("Save Changes","meta-box-builder")})),y=window.wp.primitives;var _=o(70);const v=(0,_.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)(y.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),E=(0,_.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)(y.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})}),w=e=>{const[t,o]=(0,r.useState)((()=>()=>{})),n=x(e),a=n?n.closest(".og-field"):null,i=a?a.classList:"";return(0,r.useEffect)((()=>{const e=()=>n&&S(n);o((()=>e)),setTimeout(e,200)}),[e,i]),t},x=e=>"string"==typeof e?document.getElementById(e):e,S=e=>{const t="checkbox"===e.type?e.checked:e.value,o=e.closest(".og-field");C(e).forEach((e=>{const n="true"===(r=e.className.match(/dep:([^:]+):([^:\s]+)/)[2])||"false"!==r&&r;var r;o.classList.contains("og-is-hidden")||("string"==typeof n&&n.includes("[")&&n.includes("]")?!n.match(/[^[\],]+/g).includes(t):n!==t)?e.classList.add("og-is-hidden"):e.classList.remove("og-is-hidden"),e.querySelectorAll(".og-input > input, .og-input > select").forEach(S)}))},C=e=>{const t=e.closest(".og-item")||e.closest(".og"),o=k(e.id);return t?[...t.querySelectorAll(`[class*="dep:${o}:"]`)]:[]},k=e=>{const t=e.match(/-([^-]*)$/);return t?t[1]:e},D=({content:e})=>(0,n.createElement)(p.Tooltip,{text:e,delay:0,placement:"bottom"},(0,n.createElement)("span",{className:"og-tooltip-icon"},(0,n.createElement)(p.Dashicon,{icon:"editor-help"}))),N=({children:e,label:t,description:o,tooltip:a,className:i="",htmlFor:s="",keyValue:l="",required:c=!1,dependency:u,error:d})=>(0,n.createElement)("div",{className:`og-field ${i} ${u?`dep:${u}`:""}`,key:l},t&&(0,n.createElement)("label",{className:"og-label",htmlFor:s},(0,n.createElement)(r.RawHTML,null,t),c&&(0,n.createElement)("span",{className:"og-required"},"*"),a&&(0,n.createElement)(D,{id:s,content:a})),(0,n.createElement)("div",{className:"og-input"},e,o&&(0,n.createElement)(r.RawHTML,{className:"og-description"},o),d&&(0,n.createElement)("p",{className:"og-error"},d))),O=({name:e,componentId:t,label:o,className:r,defaultValue:a,updateField:i,...s})=>{const l=w(t);return(0,n.createElement)(N,{label:o,className:`og-field--checkbox ${r}`,htmlFor:t,...s},(0,n.createElement)("label",{className:"og-toggle"},(0,n.createElement)("input",{type:"checkbox",id:t,onChange:t=>{l(),i(e,t.target.checked)},defaultChecked:a}),(0,n.createElement)("div",{className:"og-toggle__switch"})))},V=({name:e,componentId:t,placeholder:o,defaultValue:r,type:a="text",updateField:i,...s})=>(0,n.createElement)(N,{htmlFor:t,...s},(0,n.createElement)("input",{type:a,id:t,defaultValue:r,onChange:t=>i(e,t.target.value),placeholder:o,required:s.required})),j=e=>{let t;const o=new Set,n=(e,n)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),o.forEach((o=>o(t,e)))}},r=()=>t,a={setState:n,getState:r,getInitialState:()=>i,subscribe:e=>(o.add(e),()=>o.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},i=t=e(n,r,a);return a};var F=o(741);const{useDebugValue:M}=n,{useSyncExternalStoreWithSelector:T}=F;let P=!1;const A=e=>e,L=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?j(e):j)(e):e,o=(e,o)=>function(e,t=A,o){o&&!P&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),P=!0);const n=T(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return M(n),n}(t,e,o);return Object.assign(o,t),o},R=()=>{const e=(t=window.location.search,(e=>{const t={};for(let[o,n]of e){o=d(o);const e=u().get(t,o);void 0!==e&&(n=Array.isArray(e)?[...e,n]:[e,n]),n="false"!==n&&n,u().set(t,o,n)}return t})(new URLSearchParams(t)));var t;return{...MbbApp.settings||{},...e.settings}},I=e=>(e&&Array.isArray(e)?e:["post"]).filter((e=>/\S/.test(e))),U=(ae=(e,t)=>({settings:R(),getPrefix:()=>t().getSetting("prefix",""),updatePrefix:e=>t().updateSetting("prefix",e),getObjectType:()=>t().getSetting("object_type","post"),validateAndUpdateObjectType:()=>{const e=t().getSetting("object_type","post"),o={block:"blocks",term:"termMeta",user:"userMeta",comment:"commentMeta",setting:"settingsPage"}[e],n=!o||MbbApp.extensions[o]?e:"post";return n!==e&&t().updateSetting("object_type",n),n},updateObjectType:o=>{const n="object_type",r=t().settings;if(u().get(r,n)===o)return;const a=structuredClone(r);u().set(a,n,o),"post"===o?(u().delete(a,"taxonomies"),u().delete(a,"settings_pages"),u().delete(a,"type")):"term"===o?(u().delete(a,"post_types"),u().delete(a,"settings_pages"),u().delete(a,"type")):"setting"===o?(u().delete(a,"post_types"),u().delete(a,"taxonomies"),u().delete(a,"type")):["block","user","comment"].includes(o)&&(u().delete(a,"post_types"),u().delete(a,"taxonomies"),u().delete(a,"settings_pages")),e({settings:a})},getPostTypes:()=>{return I((e=t().getSetting("post_types",["post"]),Array.isArray(e)?e:e?"object"==typeof e?Object.values(e):[e]:[]));var e},updatePostTypes:e=>t().updateSetting("post_types",I(e)),getSetting:(e,o=null)=>u().get(t().settings,e,o),updateSetting:(o,n)=>{const r=t().settings;if(u().get(r,o)===n)return;const a=structuredClone(r);u().set(a,o,n),e({settings:a})}}))?L(ae):L,B=({handleSearch:e})=>(0,n.createElement)("div",{className:"og-dropdown__search"},(0,n.createElement)("input",{onInput:e,type:"text",placeholder:(0,a.__)("Search...","meta-box-builder")})),z=({items:e,searchTerm:t})=>{const o=t.toLowerCase();return 0===(e=e.filter((e=>!o||(Array.isArray(e)?e[1]:e).toLowerCase().includes(o)))).length?(0,n.createElement)(r.RawHTML,{className:"og-description"},(0,a.__)("No items found","meta-box-builder")):e.map((e=>{const t=Array.isArray(e)?e[1]:e,o=Array.isArray(e)?e[0]:e;return(0,n.createElement)(r.RawHTML,{key:o,className:"og-dropdown__item","data-value":o},t)}))},H=({items:e=[],onSelect:t})=>{const[o,a]=(0,r.useState)("");return(0,n.createElement)("div",{onClick:e=>e.target.matches(".og-dropdown__item")&&t(e)},(0,n.createElement)(B,{handleSearch:e=>a(e.target.value)}),(0,n.createElement)(z,{items:e,searchTerm:o}))},q=({items:e=[],required:t=!1,className:o="",isID:a=!1,exclude:i=[],onChange:s,onSelect:l,...c})=>{const{getPrefix:u}=U(),[d,m]=(0,r.useState)(),h=(0,r.useRef)();return(0,r.useLayoutEffect)((()=>{d&&h.current&&([h.current.selectionStart,h.current.selectionEnd]=d)}),[d]),(0,n.createElement)("div",{className:`og-field-insert ${o}`},(0,n.createElement)("input",{ref:h,type:"text",required:t,onChange:e=>{m([e.target.selectionStart,e.target.selectionEnd]),s&&s(h,e.target.value)},...c}),e.length>0&&(0,n.createElement)(p.Dropdown,{className:"og-dropdown",placement:"bottom left",renderToggle:({onToggle:e})=>(0,n.createElement)(p.Button,{icon:"ellipsis",onClick:e}),renderContent:({onToggle:t})=>(0,n.createElement)(H,{items:e,onSelect:e=>((e,t)=>{t(),l?l(h,e.target.dataset.value):h.current.value=!a||i.includes(e.target.dataset.value)?e.target.dataset.value:`${u()||""}${e.target.dataset.value}`})(e,t)})}))},$=({keysList:e,valuesList:t,item:o,remove:i,keyPlaceholder:s,valuePlaceholder:l,updateItem:c})=>{const[u,d]=(0,r.useState)(t),m=(e,n)=>{e.current.value=n,c(o.id,"key",n);const r=1==W(t)?t:Array.isArray(t[n])?t[n]:t.default;d(r||[])},h=(e,t)=>{e.current.value=t,c(o.id,"value",t)};return(0,n.createElement)("div",{className:"og-attribute mb-ruleset__rule"},(0,n.createElement)(q,{placeholder:s,defaultValue:o.key,items:e,onSelect:m,onChange:m}),(0,n.createElement)(q,{placeholder:l,defaultValue:o.value,items:u,onSelect:h,onChange:h}),(0,n.createElement)(p.Button,{variant:"link",isDestructive:!0,onClick:()=>i(o.id),text:(0,a.__)("Remove","meta-box-builder")}))},W=e=>Object(e)===e?1+Math.max(-1,...Object.values(e).map(W)):0,G=({defaultValue:e,name:t,keyPlaceholder:o=(0,a.__)("Enter key","meta-box-builder"),valuePlaceholder:i=(0,a.__)("Enter value","meta-box-builder"),keys:s=[],values:l=[],description:c="",className:u="og-attribute-wrapper",updateField:d,...m})=>{const h=(f=e,Array.isArray(f)?f.reduce(((e,t)=>(e[t.id]=t,e)),{}):"object"==typeof f?f:{});var f;const b=e=>{const o={...h};delete o[e],d(t,o)},g=(e,o,n)=>d(t,{...h,[e]:{...h[e],[o]:n}});return(0,n.createElement)(N,{className:u,...m},c&&(0,n.createElement)(r.RawHTML,{className:"og-description"},c),Object.values(h||{}).map((e=>(0,n.createElement)($,{key:e.id,item:e,remove:b,keysList:s,values:`${t}-values`,valuesList:l,keyPlaceholder:o,valuePlaceholder:i,updateItem:g}))),(0,n.createElement)(p.Button,{variant:"secondary",size:"compact",onClick:()=>{const e={key:"",value:"",id:Math.random().toString(36).substr(2)};d(t,{...h,[e.id]:e})},text:(0,a.__)("+ Add New","meta-box-builder")}))},K=()=>{const{getSetting:e,updateSetting:t}=U();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(V,{name:"submit_button",label:(0,a.__)("Custom submit button","meta-box-builder"),defaultValue:e("submit_button"),updateField:t}),(0,n.createElement)(V,{name:"message",label:(0,a.__)("Custom message","meta-box-builder"),description:(0,a.__)("The custom message displayed when saving options","meta-box-builder"),defaultValue:e("message"),updateField:t}),(0,n.createElement)(G,{name:"help_tabs",label:(0,a.__)("Help tabs","meta-box-builder"),tooltip:(0,a.__)("The content displayed when clicking on the Help button on the top right (near the Screen Options button). HTML is allowed.","meta-box-builder"),keyPlaceholder:(0,a.__)("Title","meta-box-builder"),valuePlaceholder:(0,a.__)("Content","meta-box-builder"),defaultValue:e("help_tabs"),updateField:t}),(0,n.createElement)(O,{name:"customizer",label:(0,a.__)("Customizer","meta-box-builder"),description:(0,a.__)("Show this settings page as a panel in the Customizer","meta-box-builder"),defaultValue:!!e("customizer",!1),updateField:t}),(0,n.createElement)(O,{name:"customizer_only",label:(0,a.__)("Customizer only","meta-box-builder"),description:(0,a.__)("Show only in the Customizer, no admin settings page","meta-box-builder"),defaultValue:!!e("customizer_only",!1),updateField:t}),(0,n.createElement)(O,{name:"network",label:(0,a.__)("Network","meta-box-builder"),description:(0,a.__)("Make the settings page network-wide (in multisite environment)","meta-box-builder"),defaultValue:!!e("network",!1),updateField:t}))},J=({name:e,options:t,defaultValue:o,updateField:r,...a})=>{const i=t=>r&&t.target.checked&&r(e,t.target.value);return(0,n.createElement)(N,{...a},(0,n.createElement)("div",{className:"og-toggle-group"},Object.entries(t).map((([t,r])=>(0,n.createElement)("label",{key:t},(0,n.createElement)("input",{type:"radio",name:e,defaultValue:t,defaultChecked:t==o,onChange:i}),(0,n.createElement)("span",{className:"dashicons dashicons-yes-alt"}),(0,n.createElement)("span",null,r))))))},Q=()=>{const{getSetting:e,updateSetting:t}=U();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(J,{name:"style",label:(0,a.__)("Style","meta-box-builder"),options:{boxes:(0,a.__)("Boxes","meta-box-builder"),"no-boxes":(0,a.__)("No boxes","meta-box-builder")},defaultValue:e("style","no-boxes"),updateField:t}),(0,n.createElement)(J,{name:"columns",label:(0,a.__)("Columns","meta-box-builder"),options:{1:1,2:2},defaultValue:e("columns",1),updateField:t}),(0,n.createElement)(G,{name:"tabs",label:(0,a.__)("Tabs","meta-box-builder"),keyPlaceholder:(0,a.__)("Tab key","meta-box-builder"),valuePlaceholder:(0,a.__)("Tab label","meta-box-builder"),defaultValue:e("tabs"),updateField:t}),(0,n.createElement)(J,{name:"tab_style",label:(0,a.__)("Tab style","meta-box-builder"),options:{default:(0,a.__)("Top","meta-box-builder"),left:(0,a.__)("Left","meta-box-builder")},defaultValue:e("tab_style","default"),updateField:t}),(0,n.createElement)(V,{name:"class",label:(0,a.__)("Custom CSS class","meta-box-builder"),description:(0,a.__)("Custom CSS for the wrapper div","meta-box-builder"),defaultValue:e("class"),updateField:t}))},Y=({componentId:e,name:t,options:o,defaultValue:r,onChange:a,placeholder:i,updateField:s,...l})=>{const c=w(e),u=o&&"object"==typeof o&&Object.values(o).some((e=>"object"==typeof e&&null!==e));return(0,n.createElement)(N,{htmlFor:e,...l},(0,n.createElement)("select",{id:e,defaultValue:r,onChange:e=>{c(),a&&a(e),s(t,e.target.value)}},(0,n.createElement)("option",{value:""},i),u?Object.entries(o||{}).map((([e,t])=>"object"==typeof t&&null!==t?(0,n.createElement)("optgroup",{key:e,label:e},Object.entries(t).map((([e,t])=>(0,n.createElement)("option",{key:e,value:e},t)))):(0,n.createElement)("option",{key:e,value:e},t))):Object.entries(o||{}).map((([e,t])=>(0,n.createElement)("option",{key:e,value:e},t)))))},X=()=>{const{getSetting:e,updateSetting:t}=U();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(V,{name:"id",label:(0,a.__)("ID","meta-box-builder"),description:(0,a.__)("Must be unique between settings pages. Use only lowercase letters, numbers, underscores and dashes.","meta-box-builder"),defaultValue:e("id"),updateField:t}),(0,n.createElement)(V,{name:"option_name",label:(0,a.__)("Option name","meta-box-builder"),defaultValue:e("option_name",e("id")),description:(0,a.__)("Used as the object ID when getting settings values with helper functions. Takes settings page ID if missed. If you want to use theme mods (to compatible with the settings in the Customizer), set it to <code>theme_mods_$themeslug</code>.","meta-box-builder"),updateField:t}),(0,n.createElement)(Y,{name:"capability",label:(0,a.__)("Required capability","meta-box-builder"),options:MbbApp.capabilities||{},defaultValue:e("capability","edit_theme_options"),updateField:t}))},Z=e=>{let t=e.replace(/-/g," ").trim();return["admin","controls","editor","format","image","media","welcome"].forEach((e=>{t.startsWith(e)&&(t=t.replace(e,""))})),["alt","alt2","alt3"].forEach((e=>{t.endsWith(e)&&(t=t.replace(e,`(${e})`))})),t=t.trim(),t={businessman:"business man",aligncenter:"align center",alignleft:"align left",alignright:"align right",customchar:"custom character",distractionfree:"distraction free",removeformatting:"remove formatting",strikethrough:"strike through",skipback:"skip back",skipforward:"skip forward",leftright:"left right",screenoptions:"screen options"}[t]||t,t.trim().toLowerCase()},ee=({name:e,defaultValue:t,updateField:o,...i})=>{const[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(t);let d=MbbApp.icons.map((e=>[e,Z(e)])).filter((e=>""===s||e[1].includes(s.toLowerCase())));return(0,n.createElement)(N,{className:"og-icon",...i},(0,n.createElement)(p.Dropdown,{popoverProps:{placement:"left-start"},contentClassName:"og-icon__dropdown",renderToggle:({onToggle:e})=>(0,n.createElement)("button",{type:"button",onClick:e,className:"button button-secondary og-icon__pick"},(0,n.createElement)("span",{className:`dashicons dashicons-${c}`})),renderContent:({onToggle:t})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{type:"text",className:"og-icon__search",placeholder:(0,a.__)("Search...","meta-box-builder"),value:s,onChange:e=>l(e.target.value)}),(0,n.createElement)("div",{className:"og-icon__items"},d.map((([r,a])=>(0,n.createElement)("div",{key:r,className:"og-icon__item "+(r===c?"og-icon__item--selected":""),onClick:()=>((t,n)=>{u(t),o(e,t),n()})(r,t)},(0,n.createElement)("span",{className:`dashicons dashicons-${r}`}),(0,n.createElement)("div",{className:"og-icon__text"},a))))))}))},te=({name:e,componentId:t,defaultValue:o,updateField:r,...a})=>(0,n.createElement)(N,{htmlFor:t,className:"og-icon",...a},(0,n.createElement)("div",{className:"og-icon-selected"},(0,n.createElement)("span",{className:`icon-fontawesome ${o}`}),(0,n.createElement)("input",{type:"text",className:"og-icon-search",defaultValue:o,onChange:t=>r(e,t.target.value)}))),oe=()=>{const{getSetting:e,updateSetting:t}=U();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(J,{name:"menu_type",label:(0,a.__)("Menu type","meta-box-builder"),options:{top:(0,a.__)("Top-level menu","meta-box-builder"),submenu:(0,a.__)("Submenu","meta-box-builder")},defaultValue:e("menu_type","top"),updateField:t}),"top"===e("menu_type","top")&&(0,n.createElement)(Y,{name:"position",label:(0,a.__)("Show menu after","meta-box-builder"),options:MbbApp.menu_positions,defaultValue:e("position"),placeholder:(0,a.__)("Show after all menus","meta-box-builder"),updateField:t}),"submenu"===e("menu_type","top")&&(0,n.createElement)(Y,{name:"parent",label:(0,a.__)("Parent menu","meta-box-builder"),options:MbbApp.menu_parents,defaultValue:e("parent","index.php"),updateField:t}),"top"===e("menu_type","top")&&(0,n.createElement)(J,{name:"icon_type",label:(0,a.__)("Icon type","meta-box-builder"),options:{dashicons:(0,a.__)("Dashicons","meta-box-builder"),font_awesome:(0,a.__)("Font Awesome","meta-box-builder"),svg:(0,a.__)("SVG","meta-box-builder"),custom:(0,a.__)("Custom URL","meta-box-builder")},defaultValue:e("icon_type","dashicons"),updateField:t}),"top"===e("menu_type","top")&&"dashicons"===e("icon_type","dashicons")&&(0,n.createElement)(ee,{name:"icon_dashicons",label:(0,a.__)("Icon","meta-box-builder"),defaultValue:e("icon_dashicons","admin-generic"),updateField:t}),"top"===e("menu_type","top")&&"svg"===e("icon_type","dashicons")&&(0,n.createElement)(V,{name:"icon_svg",label:(0,a.__)("Icon SVG","meta-box-builder"),description:(0,a.__)("Must be in base64 encoded format.","meta-box-builder"),defaultValue:e("icon_svg"),updateField:t}),"top"===e("menu_type","top")&&"custom"===e("icon_type","dashicons")&&(0,n.createElement)(V,{name:"icon_custom",label:(0,a.__)("Icon URL","meta-box-builder"),defaultValue:e("icon_custom"),updateField:t}),"top"===e("menu_type","top")&&"font_awesome"===e("icon_type","dashicons")&&(0,n.createElement)(te,{name:"icon_font_awesome",label:(0,a.__)("Icon","meta-box-builder"),description:(0,a.__)('Enter <a target="_blank" href="https://fontawesome.com/search?o=r&m=free">FontAwesome</a> icon class here. Supports FontAwesome free version only.',"meta-box-builder"),defaultValue:e("icon_font_awesome"),updateField:t}),"top"===e("menu_type","top")&&(0,n.createElement)(V,{name:"submenu_title",label:(0,a.__)("Default first submenu title","meta-box-builder"),defaultValue:e("submenu_title"),updateField:t}))},ne=()=>(0,n.createElement)("div",{className:"mb-content"},(0,n.createElement)(X,null),(0,n.createElement)("hr",null),(0,n.createElement)(oe,null),(0,n.createElement)("hr",null),(0,n.createElement)(Q,null),(0,n.createElement)("hr",null),(0,n.createElement)(K,null)),re=window.wp.compose;var ae,ie=o(388);const se=window.wp.apiFetch;var le=o.n(se);const ce=window.wp.url,ue={},de=({api:e,params:t={},method:o="GET",cache:n=!0})=>{const r=JSON.stringify({api:e,params:t,method:o});if(n&&ue[r])return ue[r];let a=`/mbb/${e}`;"GET"===o&&(a=(0,ce.addQueryArgs)(a,t));const i=le()({path:a,method:o,data:"POST"===o?t:null});return ue[r]=i,i},pe=()=>{const{getSetting:e,updateSetting:t,settings:o}=U(),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),p=(0,re.useCopyToClipboard)(i,(()=>{d(!0),setTimeout((()=>d(!1)),2e3)}));return(0,n.createElement)("div",{className:"mb-php"},(0,n.createElement)(V,{name:"text_domain",label:(0,a.__)("Text domain","meta-box-builder"),tooltip:(0,a.__)("Required for multilingual website. Used in the exported code only.","meta-box-builder"),defaultValue:e("text_domain","your-text-domain"),componentId:"text-domain",updateField:t}),(0,n.createElement)(V,{name:"function_name",label:(0,a.__)("Function name","meta-box-builder"),defaultValue:e("function_name","your_prefix_function_name"),componentId:"function-name",updateField:t}),(0,n.createElement)("button",{type:"button",className:"button",onClick:()=>{s(""),c(!0),de({api:"settings-page/generate",params:{post_title:document.querySelector("#post_title")?.value,settings:o},method:"POST"}).then((e=>{s(e),c(!1)}))},disabled:l},(0,a.__)("Generate","meta-box-builder")),l&&(0,n.createElement)("p",null,(0,a.__)("Generating code, please wait...","meta-box-builder")),i.length>0&&(0,n.createElement)("div",{className:"og-result"},(0,n.createElement)("p",null,(0,a.__)("Copy the code and paste into your theme's functions.php file.","meta-box-builder")),(0,n.createElement)("div",{className:"og-result__body"},(0,n.createElement)(ie.wN,{value:i,options:{mode:"php",lineNumbers:!0,readOnly:!0}}),(0,n.createElement)("button",{type:"button",className:"button",text:i,ref:p},u?(0,a.__)("Copied!","meta-box-builder"):(0,a.__)("Copy","meta-box-builder")))))},me=()=>{const[e,t]=(0,r.useState)("settings"),o={settings:(0,a.__)("Settings","meta-box-builder"),php:(0,a.__)("Get PHP Code","meta-box-builder")},i={settings:v,php:E};return(0,n.createElement)("div",{className:"mb-main"},(0,n.createElement)("div",{className:"wp-header-end"}),(0,n.createElement)("div",{className:"mb-box"},(0,n.createElement)(p.Flex,{align:"center",className:"mb-box__header"},(0,n.createElement)(p.Icon,{icon:i[e]}),(0,n.createElement)("span",{className:"mb-box__title"},o[e]),(0,n.createElement)(p.Button,{size:"small",icon:v,onClick:()=>t("settings"),label:(0,a.__)("Show settings","meta-box-builder"),showTooltip:!0}),(0,n.createElement)(p.Button,{size:"small",icon:E,onClick:()=>t("php"),label:(0,a.__)("Get PHP code to register the settings page","meta-box-builder"),showTooltip:!0})),(0,n.createElement)("div",{className:"mb-box__body"},"settings"===e&&(0,n.createElement)(ne,null),"php"===e&&(0,n.createElement)(pe,null))))},he=()=>{const[e,t]=(0,r.useState)(!1),o=()=>t(!1);return window.mbbShowNotification=()=>{t(!0),setTimeout(o,3e3)},e&&(0,n.createElement)(p.Snackbar,{className:"mb-notification",explicitDismiss:!0,onDismiss:o},(0,a.__)("Settings page is updated.","meta-box-builder"))},fe=({children:e})=>(0,n.createElement)(l,{fallback:(0,n.createElement)("p",null,(0,a.__)("Something went wrong. Please try again!","meta-box-builder"))},(0,n.createElement)(g,null),(0,n.createElement)("div",{className:"mb-body"},(0,n.createElement)("div",{className:"mb-body__inner"},e)),(0,n.createElement)(he,null)),be=document.getElementById("poststuff");be.classList.add("mb"),be.classList.add("og"),be.id="mb-app",(0,r.createRoot)(be).render((0,n.createElement)((()=>(0,n.createElement)(fe,null,(0,n.createElement)(me,null))),null)),(()=>{const e=document.querySelector("#post_ID")?.value;e&&location.href.includes("post-new.php")&&history.replaceState({},"",`${MbbApp.adminUrl}post.php?post=${e}&action=edit`)})(),document.querySelector(".wp-header-end").remove();const ge=document.querySelector("#post"),ye=e=>{"INPUT"===e.target.tagName&&13==e.keyCode&&e.preventDefault()};ge.addEventListener("keypress",ye),ge.addEventListener("keydown",ye),ge.addEventListener("keyup",ye),(()=>{const e=document.getElementById("post");e&&e.addEventListener("submit",(async e=>{e.preventDefault();const t=e.submitter;if(!t)return;t.disabled=!0;const o=t.value;t.value=MbbApp.texts.saving;const n=U.getState().settings;try{const e=await de({api:"settings-page/save",params:{post_id:document.querySelector("#post_ID").value,post_title:document.querySelector("#post_title").value,settings:n},method:"POST",cache:!1});if(!e.success)return void alert(e.message);window.mbbShowNotification?.()}catch(e){let t=e.message;e.data?.details&&!Array.isArray(e.data?.details)&&(t=Object.values(e.data?.details).map((e=>e.message)).join("\n")),alert(t)}finally{t.value=o,t.disabled=!1}}))})()})();